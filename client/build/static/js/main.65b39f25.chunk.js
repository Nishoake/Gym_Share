(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n,l,r,c,i,u,o,m,s=a(0),d=a.n(s),b=a(34),E=a.n(b),v=(a(83),a(29)),y=a(11),p=a(28),g=a.n(p),h=a(37),f=a(10),O=a(6),j=function(e){var t=e.label,a=e.equipment,n=e.eventHandler,l=e.buttonLabel;return d.a.createElement("div",{className:"card"},d.a.createElement("h2",null,t),d.a.createElement("table",null,d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Category"),d.a.createElement("th",null,"Weight"),d.a.createElement("th",null,"Owner"),d.a.createElement("th",null,l)),a.map((function(e){return d.a.createElement("tr",{key:e.id},d.a.createElement("td",null,e.category),d.a.createElement("td",null,e.weight),d.a.createElement("td",null,d.a.createElement("img",{src:e.avatar_url,alt:"Gym Leader",className:"avatar"})),d.a.createElement("td",null,d.a.createElement("button",{onClick:function(){return n(e.id)}},l)))})))))},w=a(22),q=Object(O.gql)(n||(n=Object(w.a)(["\n  query filterOtherEquipmentByType($type: String!){\n    allOtherEquipment(\n      type: $type\n    ) {\n      id,\n      category,\n      weight,\n      name,\n      number,\n      avatar_url\n    }\n  }\n"]))),k=Object(O.gql)(l||(l=Object(w.a)(["\n  query filterMyEquipmentByType($type: String!){\n    myEquipment(\n      type: $type\n    ) {\n      id,\n      category,\n      weight,\n      name,\n      number,\n      avatar_url\n    }\n  }\n"]))),N=Object(O.gql)(r||(r=Object(w.a)(["\n  query{\n    myBorrowingHistory{\n      id,\n      category,\n      weight,\n      check_out_timestamp,\n      check_in_timestamp,\n      name,\n      number,\n      avatar_url\n    }\n  }\n"]))),H=Object(O.gql)(c||(c=Object(w.a)(["\n  query{\n    myLendingHistory{\n      id,\n      category,\n      weight,\n      check_out_timestamp,\n      check_in_timestamp,\n      name,\n      number,\n      avatar_url\n    }\n  }\n"]))),S=Object(O.gql)(i||(i=Object(w.a)(["\n  query{\n    myAccount{\n      name,\n      number,\n      email,\n      house,\n      street,\n      city,\n      avatar_url\n    }\n  }\n"]))),_=Object(O.gql)(u||(u=Object(w.a)(["\n  mutation placeHold($id: String!){\n    placeHold(\n      id: $id\n    ) {\n      category\n      weight\n      id\n      transaction_id\n      hold_user_id\n    }\n  }\n"]))),B=Object(O.gql)(o||(o=Object(w.a)(["\n  mutation addNewEquipment($category: String!, $weight: Int!){\n    addEquipment(\n      category: $category,\n      weight: $weight\n    ) {\n      category,\n      weight,\n      id,\n      user_id,\n      transaction_id,\n      hold_user_id\n    }\n  }\n"]))),C=Object(O.gql)(m||(m=Object(w.a)(["\n  mutation removeHold($id: String!){\n    removeHold(\n      id: $id\n    ) {\n      category,\n      weight,\n      id,\n      user_id\n      transaction_id,\n      hold_user_id\n    }\n  }\n"]))),L=function(){var e=Object(s.useState)([]),t=Object(f.a)(e,2),a=t[0],n=t[1],l=Object(s.useState)([]),r=Object(f.a)(l,2),c=(r[0],r[1]),i=Object(s.useState)([]),u=Object(f.a)(i,2),o=(u[0],u[1]),m=Object(O.useQuery)(q,{variables:{type:"available"}}),b=Object(O.useQuery)(q,{variables:{type:"hold"}}),E=Object(O.useQuery)(q,{variables:{type:"checked out"}}),v=Object(O.useMutation)(_,{refetchQueries:[{query:q,variables:{type:"available"}},{query:q,variables:{type:"hold"}}]}),y=Object(f.a)(v,1)[0],p=function(){var e=Object(h.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({variables:{id:t}});case 2:console.log("Placing a hold on equipment id: ".concat(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){m.data&&n(m.data.allOtherEquipment)}),[m.data]),Object(s.useEffect)((function(){b.data&&c(b.data.allOtherEquipment)}),[b.data]),Object(s.useEffect)((function(){E.data&&o(E.data.allOtherEquipment)}),[E.data]),m.loading||b.loading||E.loading?d.a.createElement("div",null,"loading..."):m.error||b.error||E.error?d.a.createElement("div",null,"Error retrieving Marketplace data"):d.a.createElement("div",null,d.a.createElement("h1",{className:"view-header"},"Marketplace"),d.a.createElement(j,{label:"Available Equipment",equipment:a,eventHandler:p,buttonLabel:"Place Hold"}))},M=function(e){var t=e.label,a=e.equipment;e.eventHandler,e.buttonLabel;return d.a.createElement("div",{className:"card"},d.a.createElement("h2",null,t),d.a.createElement("table",null,d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Category"),d.a.createElement("th",null,"Weight")),a.map((function(e){return d.a.createElement("tr",{key:e.id},d.a.createElement("td",null,e.category),d.a.createElement("td",null,e.weight))})))))},Q=a(56),$=function(){var e=Object(s.useState)([]),t=Object(f.a)(e,2),a=t[0],n=t[1],l=Object(s.useState)([]),r=Object(f.a)(l,2),c=r[0],i=r[1],u=Object(s.useState)([]),o=Object(f.a)(u,2),m=o[0],b=o[1],E=Object(s.useState)(""),v=Object(f.a)(E,2),y=v[0],p=v[1],j=Object(s.useState)(""),w=Object(f.a)(j,2),q=w[0],N=w[1],H=Object(O.useQuery)(k,{variables:{type:"available"}}),S=Object(O.useQuery)(k,{variables:{type:"hold"}}),_=Object(O.useQuery)(k,{variables:{type:"checked out"}}),L=Object(O.useMutation)(B,{refetchQueries:[{query:k,variables:{type:"available"}}]}),$=Object(f.a)(L,1)[0],x=function(){var e=Object(h.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!y.value||!q.value){e.next=6;break}return e.next=4,$({variables:{category:y.value,weight:parseInt(q.value)}});case 4:p(""),N("");case 6:return e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=Object(O.useMutation)(C,{refetchQueries:[{query:k,variables:{type:"available"}},{query:k,variables:{type:"hold"}}]});Object(f.a)(W,1)[0];Object(s.useEffect)((function(){H.data&&n(H.data.myEquipment)}),[H.data]),Object(s.useEffect)((function(){S.data&&i(S.data.myEquipment)}),[S.data]),Object(s.useEffect)((function(){_.data&&b(_.data.myEquipment)}),[_.data]);return H.loading||S.loading||_.loading?d.a.createElement("div",null,"loading..."):H.error||S.error||_.error?d.a.createElement("div",null,"Error retrieving Marketplace data"):d.a.createElement("div",null,d.a.createElement("h1",{className:"view-header"},"My Equipment"),d.a.createElement("div",{className:"rows"},d.a.createElement(M,{label:"Available",equipment:a}),d.a.createElement(M,{label:"On Hold",equipment:c}),d.a.createElement(M,{label:"Checked Out",equipment:m})),d.a.createElement("div",{className:"view-header"},d.a.createElement("form",{onSubmit:x},d.a.createElement("div",null,"Category:",d.a.createElement(Q.a,{onChange:p,options:[{value:"Dumbbell",label:"Dumbbell"},{value:"Kettlebell",label:"Kettlebell"}],className:"input-add-equip"})),d.a.createElement("div",null,"Weight:",d.a.createElement(Q.a,{onChange:N,options:[{value:5,label:"5"},{value:10,label:"10"},{value:15,label:"15"},{value:20,label:"20"},{value:25,label:"25"},{value:30,label:"30"},{value:35,label:"35"},{value:40,label:"40"},{value:45,label:"45"},{value:50,label:"50"},{value:55,label:"55"},{value:60,label:"60"},{value:65,label:"65"},{value:70,label:"70"},{value:75,label:"75"},{value:80,label:"80"},{value:85,label:"85"},{value:90,label:"90"},{value:95,label:"95"},{value:100,label:"100"}],className:"input-add-equip"})),d.a.createElement("button",{type:"submit",className:"add-equip-button"},"Add Equipment"))))},x=a(49),W=function(e){var t=e.transactions,a=e.columnLabel;return d.a.createElement("div",{className:"card"},d.a.createElement("table",null,d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Category"),d.a.createElement("th",null,"Weight"),d.a.createElement("th",null,"Checkout"),d.a.createElement("th",null,"Checkin"),d.a.createElement("th",null,a),d.a.createElement("th",null,"Number")),t.map((function(e){return d.a.createElement("tr",{key:e.id},d.a.createElement("td",null,e.category),d.a.createElement("td",null,e.weight),d.a.createElement("td",null,e.check_out_timestamp),d.a.createElement("td",null,e.check_in_timestamp),d.a.createElement("td",null,e.name),d.a.createElement("td",null,e.number))})))))},A=function(){var e=Object(s.useState)([]),t=Object(f.a)(e,2),a=t[0],n=t[1],l=Object(s.useState)(""),r=Object(f.a)(l,2),c=(r[0],r[1],Object(s.useState)("")),i=Object(f.a)(c,2),u=(i[0],i[1],Object(s.useState)("")),o=Object(f.a)(u,2),m=(o[0],o[1],Object(O.useQuery)(N));Object(s.useEffect)((function(){m.data&&n(m.data.myBorrowingHistory)}),[m.data]);if(m.loading)return d.a.createElement("div",null,"loading...");if(m.error)return d.a.createElement("div",null,"Error retrieving Borrowing History data");if(!m.data.myBorrowingHistory.length)return d.a.createElement("div",{className:"view-header"},d.a.createElement("h1",null,"You have not lent out any equipment yet "));var b=new Set;m.data.myBorrowingHistory.map((function(e){return b.add(e.weight)}));var E=Object(x.a)(b),v=function(e){var t=m.data.myBorrowingHistory.filter((function(t){return t.weight===e}));n(t)},y=new Set;m.data.myBorrowingHistory.map((function(e){return y.add(e.category)}));var p=Object(x.a)(y),g=new Set;m.data.myBorrowingHistory.map((function(e){return g.add(e.name)}));var h=Object(x.a)(g);return d.a.createElement("div",null,d.a.createElement("h1",{className:"view-header"},"My Borrowing History"),d.a.createElement("h3",{className:"view-header"},"Breakdown of Your Borrowing:"),d.a.createElement("div",{className:"view-header"},d.a.createElement("table",null,d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",null,"Weights:"),d.a.createElement("td",null,E.map((function(e){return d.a.createElement("button",{key:e,className:"filter-button",type:"button",onClick:function(){return v(e)}},e," lb")})))),d.a.createElement("tr",null,d.a.createElement("td",null,"Categories:"),d.a.createElement("td",null,p.map((function(e){return d.a.createElement("button",{key:e,className:"filter-button",type:"button",onClick:function(){return v(e)}},e)})))),d.a.createElement("tr",null,d.a.createElement("td",null,"Lenders:"),d.a.createElement("td",null,h.map((function(e){return d.a.createElement("button",{key:e,className:"filter-button",type:"button",onClick:function(){return function(e){var t=m.data.myBorrowingHistory.filter((function(t){return t.name===e}));n(t)}(e)}},e)})))))),d.a.createElement("button",{type:"button",onClick:function(){n(m.data.myBorrowingHistory)}},"Reset Filters")),d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement("h2",{className:"view-header"},"Ledger of Transactions"),d.a.createElement(W,{transactions:a,columnLabel:"Lender"}))},P=function(){var e=Object(s.useState)([]),t=Object(f.a)(e,2),a=t[0],n=t[1],l=Object(O.useQuery)(H);return Object(s.useEffect)((function(){l.data&&n(l.data.myLendingHistory)}),[l.data]),l.loading?d.a.createElement("div",null,"loading..."):l.error?d.a.createElement("div",null,"Error retrieving Lending History data"):l.data.myLendingHistory.length?d.a.createElement("div",null,d.a.createElement("h1",{className:"view-header"},"My Lending History"),d.a.createElement(W,{transactions:a,columnLabel:"Borrower"})):d.a.createElement("div",{className:"view-header"},d.a.createElement("h1",null,"You have not lent out any equipment yet "))},D=function(){var e=Object(s.useState)([]),t=Object(f.a)(e,2),a=(t[0],t[1]),n=Object(O.useQuery)(S);return Object(s.useEffect)((function(){n.data&&a(n.data.myAccount)}),[n.data]),n.loading?d.a.createElement("div",null,"loading..."):n.error?d.a.createElement("div",null,"Error retrieving Dashboard data"):d.a.createElement("div",null,d.a.createElement("h1",{className:"view-header"},"Dashboard"),d.a.createElement("div",{className:"card"},d.a.createElement("p",null,d.a.createElement("b",null,"Name:")," Brock Harrison"),d.a.createElement("p",null,d.a.createElement("b",null,"Number:")," 647-787-4515"),d.a.createElement("p",null,d.a.createElement("b",null,"Email:")," Brock@Kanto.com"),d.a.createElement("p",null,d.a.createElement("b",null,"House:")," 14"),d.a.createElement("p",null,d.a.createElement("b",null,"Street:")," Route 5"),d.a.createElement("p",null,d.a.createElement("b",null,"City:")," Pewter City")))};a(103);var I=function(){return d.a.createElement("div",null,d.a.createElement(v.a,null,d.a.createElement("div",{className:"sidebar"},d.a.createElement(v.b,{to:"/"},d.a.createElement("h1",{className:"logo"},"GYM SHARE"),d.a.createElement("div",{className:"welcome"},d.a.createElement("img",{src:"https://cdn2.bulbagarden.net/upload/7/75/VSBrock_Masters.png",alt:"Profile Picture",className:"avatar"}),"Welcome ","Brock","!")),d.a.createElement(v.b,{to:"/marketplace",className:"link nav-select",activeStyle:{fontWeight:"bold",color:"white"}},d.a.createElement("i",{className:"fas fa-store icon-spacing"}),"Marketplace"),d.a.createElement(v.b,{to:"/equipment",className:"link nav-select",activeStyle:{fontWeight:"bold",color:"white"}},d.a.createElement("i",{class:"fas fa-dumbbell icon-spacing"}),"My Equipment"),d.a.createElement(v.b,{to:"/borrowingHistory",className:"link nav-select",activeStyle:{fontWeight:"bold",color:"white"}},d.a.createElement("i",{class:"fas fa-arrow-left icon-spacing"}),"Borrowing History"),d.a.createElement(v.b,{to:"/lendingHistory",className:"link nav-select",activeStyle:{fontWeight:"bold",color:"white"}},d.a.createElement("i",{class:"fas fa-arrow-right icon-spacing"}),"Lending History")),d.a.createElement("div",{className:"main"},d.a.createElement(y.c,null,d.a.createElement(y.a,{exact:!0,path:"/"},d.a.createElement(D,null)),d.a.createElement(y.a,{exact:!0,path:"/marketplace"},d.a.createElement(L,null)),d.a.createElement(y.a,{exact:!0,path:"/equipment"},d.a.createElement($,null)),d.a.createElement(y.a,{exact:!0,path:"/borrowingHistory"},d.a.createElement(A,null)),d.a.createElement(y.a,{exact:!0,path:"/lendingHistory"},d.a.createElement(P,null))))))},Y=new O.ApolloClient({cache:new O.InMemoryCache,link:new O.HttpLink({uri:"https://gym-share.herokuapp.com/graphql"})});E.a.render(d.a.createElement(O.ApolloProvider,{client:Y},d.a.createElement(I,null)),document.getElementById("root"))},78:function(e,t,a){e.exports=a(105)},83:function(e,t,a){}},[[78,1,2]]]);
//# sourceMappingURL=main.65b39f25.chunk.js.map