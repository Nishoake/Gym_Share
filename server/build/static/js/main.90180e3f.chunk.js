(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n,l,r,c,i,u,m,o,s,d,E=a(0),b=a.n(E),y=a(35),p=a.n(y),h=(a(83),a(24)),v=a(11),g=a(21),f=a.n(g),w=a(30),O=a(10),j=a(5),k=function(e){var t=e.label,a=e.equipment,n=e.eventHandler,l=e.buttonLabel;return b.a.createElement("div",{className:"card"},b.a.createElement("h2",null,t),b.a.createElement("table",null,b.a.createElement("tbody",null,b.a.createElement("tr",null,b.a.createElement("th",null,"Category"),b.a.createElement("th",null,"Weight"),b.a.createElement("th",null,"Owner"),b.a.createElement("th",null,l)),a.map((function(e){return b.a.createElement("tr",{key:e.id},b.a.createElement("td",null,e.category),b.a.createElement("td",null,e.weight),b.a.createElement("td",null,b.a.createElement("img",{src:e.avatar_url,alt:"Gym Leader",className:"avatar"})),b.a.createElement("td",null,b.a.createElement("button",{onClick:function(){return n(e.id)}},l)))})))))},N=a(22),q=Object(j.gql)(n||(n=Object(N.a)(["\n  query filterOtherEquipmentByType($type: String!){\n    allOtherEquipment(\n      type: $type\n    ) {\n      id,\n      category,\n      weight,\n      name,\n      number,\n      avatar_url\n    }\n  }\n"]))),H=Object(j.gql)(l||(l=Object(N.a)(["\n  query filterMyEquipmentByType($type: String!){\n    myEquipment(\n      type: $type\n    ) {\n      id,\n      category,\n      weight,\n      name,\n      number,\n      avatar_url\n    }\n  }\n"]))),_=Object(j.gql)(r||(r=Object(N.a)(["\n  query{\n    myBorrowingHistory{\n      id,\n      category,\n      weight,\n      check_out_timestamp,\n      check_in_timestamp,\n      name,\n      number,\n      avatar_url\n    }\n  }\n"]))),S=Object(j.gql)(c||(c=Object(N.a)(["\n  query{\n    myLendingHistory{\n      id,\n      category,\n      weight,\n      check_out_timestamp,\n      check_in_timestamp,\n      name,\n      number,\n      avatar_url\n    }\n  }\n"]))),C=Object(j.gql)(i||(i=Object(N.a)(["\n  query{\n    myAccount{\n      name,\n      number,\n      email,\n      house,\n      street,\n      city,\n      avatar_url\n    }\n  }\n"]))),B=Object(j.gql)(u||(u=Object(N.a)(["\n  mutation placeHold($id: String!){\n    placeHold(\n      id: $id\n    ) {\n      category\n      weight\n      id\n      transaction_id\n      hold_user_id\n    }\n  }\n"]))),L=Object(j.gql)(m||(m=Object(N.a)(["\n  mutation addNewEquipment($category: String!, $weight: Int!){\n    addEquipment(\n      category: $category,\n      weight: $weight\n    ) {\n      category,\n      weight,\n      id,\n      user_id,\n      transaction_id,\n      hold_user_id\n    }\n  }\n"]))),x=Object(j.gql)(o||(o=Object(N.a)(["\n  mutation removeHold($id: String!){\n    removeHold(\n      id: $id\n    ) {\n      category,\n      weight,\n      id,\n      user_id\n      transaction_id,\n      hold_user_id\n    }\n  }\n"]))),M=Object(j.gql)(s||(s=Object(N.a)(["\n  mutation checkOut($id: String!){\n    removeHold(\n      id: $id\n    ) {\n      id,\n      borrower_id,\n      lender_id,\n      equipment_id,\n      check_out_timestamp,\n      check_in_timestamp\n    }\n  }\n"]))),W=Object(j.gql)(d||(d=Object(N.a)(["\n  mutation checkIn($id: String!){\n    removeHold(\n      id: $id\n    ) {\n      id,\n      borrower_id,\n      lender_id,\n      equipment_id,\n      check_out_timestamp,\n      check_in_timestamp\n    }\n  }\n"]))),$=function(){var e=Object(E.useState)([]),t=Object(O.a)(e,2),a=t[0],n=t[1],l=Object(j.useQuery)(q,{variables:{type:"available"}}),r=Object(j.useQuery)(q,{variables:{type:"hold"}}),c=Object(j.useQuery)(q,{variables:{type:"checked out"}}),i=Object(j.useMutation)(B,{refetchQueries:[{query:q,variables:{type:"available"}},{query:q,variables:{type:"hold"}}]}),u=Object(O.a)(i,1)[0],m=function(){var e=Object(w.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({variables:{id:t}});case 2:console.log("Placing a hold on equipment id: ".concat(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.useEffect)((function(){l.data&&n(l.data.allOtherEquipment)}),[l.data]),l.loading||r.loading||c.loading?b.a.createElement("div",null,"loading..."):l.error||r.error||c.error?b.a.createElement("div",null,"Error retrieving Marketplace data"):b.a.createElement("div",null,b.a.createElement("h1",{className:"view-header"},"Marketplace"),b.a.createElement("div",{className:"rows"},b.a.createElement(k,{label:"Available Equipment",equipment:a,eventHandler:m,buttonLabel:"Place Hold"})))},Q=function(e){var t=e.label,a=e.equipment;return b.a.createElement("div",{className:"card"},b.a.createElement("h2",null,t),b.a.createElement("table",null,b.a.createElement("tbody",null,b.a.createElement("tr",null,b.a.createElement("th",null,"Category"),b.a.createElement("th",null,"Weight")),a.map((function(e){return b.a.createElement("tr",{key:e.id},b.a.createElement("td",null,e.category),b.a.createElement("td",null,e.weight))})))))},A=function(e){var t=e.primaryLabel,a=e.secondaryLabel,n=e.equipment,l=e.primaryFunction,r=e.secondaryFunction,c=e.primaryButtonLabel,i=e.secondaryButtonLabel;return n.length?r&&i?b.a.createElement("div",{className:"card"},b.a.createElement("h2",null,t),b.a.createElement("table",null,b.a.createElement("tbody",null,b.a.createElement("tr",null,b.a.createElement("th",null,"Category"),b.a.createElement("th",null,"Weight"),b.a.createElement("th",null,a)),n.map((function(e){return b.a.createElement("tr",{key:e.id},b.a.createElement("td",null,e.category),b.a.createElement("td",null,e.weight),b.a.createElement("td",null,e.avatar),b.a.createElement("td",null,b.a.createElement("button",{onClick:function(){return l(e.id)}},c)),b.a.createElement("td",null,b.a.createElement("button",{onClick:function(){return r(e.id)}},i)))}))))):b.a.createElement("div",{className:"card"},b.a.createElement("h2",null,t),b.a.createElement("table",null,b.a.createElement("tbody",null,b.a.createElement("tr",null,b.a.createElement("th",null,"Category"),b.a.createElement("th",null,"Weight"),b.a.createElement("th",null,a)),n.map((function(e){return b.a.createElement("tr",{key:e.id},b.a.createElement("td",null,e.category),b.a.createElement("td",null,e.weight),b.a.createElement("td",null,e.avatar),b.a.createElement("td",null,b.a.createElement("button",{onClick:function(){return l(e.id)}},c)))}))))):b.a.createElement("div",{className:"card"},b.a.createElement("h2",null,t),b.a.createElement("p",null,"No active items"))},I=a(56),F=function(){var e=Object(E.useState)([]),t=Object(O.a)(e,2),a=t[0],n=t[1],l=Object(E.useState)([]),r=Object(O.a)(l,2),c=r[0],i=r[1],u=Object(E.useState)([]),m=Object(O.a)(u,2),o=m[0],s=m[1],d=Object(E.useState)(""),y=Object(O.a)(d,2),p=y[0],h=y[1],v=Object(E.useState)(""),g=Object(O.a)(v,2),k=g[0],N=g[1],q=Object(j.useQuery)(H,{variables:{type:"available"}}),_=Object(j.useQuery)(H,{variables:{type:"hold"}}),S=Object(j.useQuery)(H,{variables:{type:"checked out"}}),C=Object(j.useMutation)(L,{refetchQueries:[{query:H,variables:{type:"available"}}]}),B=Object(O.a)(C,1)[0],$=function(){var e=Object(w.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!p.value||!k.value){e.next=6;break}return e.next=4,B({variables:{category:p.value,weight:parseInt(k.value)}});case 4:h(""),N("");case 6:return e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=Object(j.useMutation)(x,{refetchQueries:[{query:H,variables:{type:"available"}},{query:H,variables:{type:"hold"}}]}),P=Object(O.a)(F,1)[0],D=function(){var e=Object(w.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P({variables:{id:t}});case 2:console.log("Cancelling hold on equipment id: ".concat(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=Object(j.useMutation)(M,{refetchQueries:[{query:H,variables:{type:"hold"}},{query:H,variables:{type:"checked out"}}]}),Y=Object(O.a)(R,1)[0],T=function(){var e=Object(w.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y({variables:{id:t}});case 2:console.log("Checking back in equipment id: ".concat(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=Object(j.useMutation)(W,{refetchQueries:[{query:H,variables:{type:"available"}},{query:H,variables:{type:"checked out"}}]}),J=Object(O.a)(G,1)[0],K=function(){var e=Object(w.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J({variables:{id:t}});case 2:console.log("Checking back in equipment, transaction id: ".concat(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(E.useEffect)((function(){q.data&&n(q.data.myEquipment)}),[q.data]),Object(E.useEffect)((function(){_.data&&i(_.data.myEquipment)}),[_.data]),Object(E.useEffect)((function(){S.data&&s(S.data.myEquipment)}),[S.data]);return q.loading||_.loading||S.loading?b.a.createElement("div",null,"loading..."):q.error||_.error||S.error?b.a.createElement("div",null,"Error retrieving Marketplace data"):b.a.createElement("div",null,b.a.createElement("h1",{className:"view-header"},"My Equipment"),b.a.createElement("div",{className:"rows"},b.a.createElement(Q,{label:"Available",equipment:a}),b.a.createElement(A,{primaryLabel:"On Hold",secondaryLabel:"Requested By",equipment:c,primaryFunction:D,secondaryFunction:T,primaryButtonLabel:"Remove Hold",secondaryButtonLabel:"Check Out"}),b.a.createElement(A,{primaryLabel:"Checked Out",secondaryLabel:"Borrower",equipment:o,primaryFunction:K,primaryButtonLabel:"Check In"})),b.a.createElement("div",{className:"view-header"},b.a.createElement("form",{onSubmit:$},b.a.createElement("div",null,"Category:",b.a.createElement(I.a,{onChange:h,options:[{value:"Dumbbell",label:"Dumbbell"},{value:"Kettlebell",label:"Kettlebell"}],className:"input-add-equip"})),b.a.createElement("div",null,"Weight:",b.a.createElement(I.a,{onChange:N,options:[{value:5,label:"5"},{value:10,label:"10"},{value:15,label:"15"},{value:20,label:"20"},{value:25,label:"25"},{value:30,label:"30"},{value:35,label:"35"},{value:40,label:"40"},{value:45,label:"45"},{value:50,label:"50"},{value:55,label:"55"},{value:60,label:"60"},{value:65,label:"65"},{value:70,label:"70"},{value:75,label:"75"},{value:80,label:"80"},{value:85,label:"85"},{value:90,label:"90"},{value:95,label:"95"},{value:100,label:"100"}],className:"input-add-equip"})),b.a.createElement("button",{type:"submit",className:"add-equip-button"},"Add Equipment"))))},P=a(49),D=function(e){var t=e.transactions,a=e.columnLabel;return b.a.createElement("div",{className:"card"},b.a.createElement("table",null,b.a.createElement("tbody",null,b.a.createElement("tr",null,b.a.createElement("th",null,"Category"),b.a.createElement("th",null,"Weight"),b.a.createElement("th",null,"Checkout"),b.a.createElement("th",null,"Checkin"),b.a.createElement("th",null,a),b.a.createElement("th",null,"Number")),t.map((function(e){return b.a.createElement("tr",{key:e.id},b.a.createElement("td",null,e.category),b.a.createElement("td",null,e.weight),b.a.createElement("td",null,e.check_out_timestamp),b.a.createElement("td",null,e.check_in_timestamp),b.a.createElement("td",null,e.name),b.a.createElement("td",null,e.number))})))))},R=function(){var e=Object(E.useState)([]),t=Object(O.a)(e,2),a=t[0],n=t[1],l=Object(E.useState)(""),r=Object(O.a)(l,2),c=(r[0],r[1],Object(E.useState)("")),i=Object(O.a)(c,2),u=(i[0],i[1],Object(E.useState)("")),m=Object(O.a)(u,2),o=(m[0],m[1],Object(j.useQuery)(_));Object(E.useEffect)((function(){o.data&&n(o.data.myBorrowingHistory)}),[o.data]);if(o.loading)return b.a.createElement("div",null,"loading...");if(o.error)return b.a.createElement("div",null,"Error retrieving Borrowing History data");if(!o.data.myBorrowingHistory.length)return b.a.createElement("div",{className:"view-header"},b.a.createElement("h1",null,"You have not borrowed any equipment yet"));var s=new Set;o.data.myBorrowingHistory.map((function(e){return s.add(e.weight)}));var d=Object(P.a)(s),y=new Set;o.data.myBorrowingHistory.map((function(e){return y.add(e.category)}));var p=Object(P.a)(y),h=new Set;o.data.myBorrowingHistory.map((function(e){return h.add(e.name)}));var v=Object(P.a)(h);return b.a.createElement("div",null,b.a.createElement("h1",{className:"view-header"},"My Borrowing History"),b.a.createElement("h3",{className:"view-header"},"Breakdown of Your Borrowing:"),b.a.createElement("div",{className:"view-header"},b.a.createElement("table",null,b.a.createElement("tbody",null,b.a.createElement("tr",null,b.a.createElement("td",null,"Weights:"),b.a.createElement("td",null,d.map((function(e){return b.a.createElement("button",{key:e,className:"filter-button",type:"button",onClick:function(){return function(e){var t=o.data.myBorrowingHistory.filter((function(t){return t.weight===e}));n(t)}(e)}},e," lb")})))),b.a.createElement("tr",null,b.a.createElement("td",null,"Categories:"),b.a.createElement("td",null,p.map((function(e){return b.a.createElement("button",{key:e,className:"filter-button",type:"button",onClick:function(){return function(e){var t=o.data.myBorrowingHistory.filter((function(t){return t.category===e}));n(t)}(e)}},e)})))),b.a.createElement("tr",null,b.a.createElement("td",null,"Lenders:"),b.a.createElement("td",null,v.map((function(e){return b.a.createElement("button",{key:e,className:"filter-button",type:"button",onClick:function(){return function(e){var t=o.data.myBorrowingHistory.filter((function(t){return t.name===e}));n(t)}(e)}},e)})))))),b.a.createElement("button",{type:"button",onClick:function(){n(o.data.myBorrowingHistory)}},"Reset Filters")),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("h2",{className:"view-header"},"Ledger of Transactions"),b.a.createElement("div",{className:"rows"},b.a.createElement(D,{transactions:a,columnLabel:"Lender"})))},Y=function(){var e=Object(E.useState)([]),t=Object(O.a)(e,2),a=t[0],n=t[1],l=Object(j.useQuery)(S);return Object(E.useEffect)((function(){l.data&&n(l.data.myLendingHistory)}),[l.data]),l.loading?b.a.createElement("div",null,"loading..."):l.error?b.a.createElement("div",null,"Error retrieving Lending History data"):l.data.myLendingHistory.length?b.a.createElement("div",null,b.a.createElement("h1",{className:"view-header"},"My Lending History"),b.a.createElement("div",{className:"rows"},b.a.createElement(D,{transactions:a,columnLabel:"Borrower"}))):b.a.createElement("div",{className:"view-header"},b.a.createElement("h1",null,"You have not lent out any equipment yet"))},T=function(){var e=Object(E.useState)([]),t=Object(O.a)(e,2),a=t[0],n=t[1],l=Object(j.useQuery)(C);return Object(E.useEffect)((function(){l.data&&n(l.data.myAccount[0])}),[l.data]),l.loading?b.a.createElement("div",null,"loading..."):l.error?b.a.createElement("div",null,"Error retrieving Dashboard data"):b.a.createElement("div",null,b.a.createElement("h1",{className:"view-header"},"Dashboard"),b.a.createElement("div",{className:"rows"},b.a.createElement("div",{className:"card"},b.a.createElement("h2",{style:{"text-decoration":"underline"}},"Account Info:"),b.a.createElement("p",null,b.a.createElement("b",null,"Name:")," ",a.name),b.a.createElement("p",null,b.a.createElement("b",null,"Number:")," ",a.number),b.a.createElement("p",null,b.a.createElement("b",null,"Email:")," ",a.email),b.a.createElement("p",null,b.a.createElement("b",null,"House:")," ",a.house),b.a.createElement("p",null,b.a.createElement("b",null,"Street:")," ",a.street),b.a.createElement("p",null,b.a.createElement("b",null,"City:")," ",a.city)),b.a.createElement("div",{className:"card"},b.a.createElement("h2",{style:{"text-decoration":"underline"}},"Stats For Me:"),b.a.createElement("p",null,b.a.createElement("b",null,"Name:")," ",a.name),b.a.createElement("p",null,b.a.createElement("b",null,"Number:")," ",a.number),b.a.createElement("p",null,b.a.createElement("b",null,"Email:")," ",a.email),b.a.createElement("p",null,b.a.createElement("b",null,"House:")," ",a.house),b.a.createElement("p",null,b.a.createElement("b",null,"Street:")," ",a.street),b.a.createElement("p",null,b.a.createElement("b",null,"City:")," ",a.city))),b.a.createElement("div",{className:"rows"},b.a.createElement("div",{className:"card"},b.a.createElement("h2",{style:{"text-decoration":"underline"}},"Equipment I Have Requested On Hold:"),b.a.createElement("p",null,b.a.createElement("b",null,"Name:")," ",a.name),b.a.createElement("p",null,b.a.createElement("b",null,"Number:")," ",a.number),b.a.createElement("p",null,b.a.createElement("b",null,"Email:")," ",a.email),b.a.createElement("p",null,b.a.createElement("b",null,"House:")," ",a.house),b.a.createElement("p",null,b.a.createElement("b",null,"Street:")," ",a.street),b.a.createElement("p",null,b.a.createElement("b",null,"City:")," ",a.city)),b.a.createElement("div",{className:"card"},b.a.createElement("h2",{style:{"text-decoration":"underline"}},"Equipment I Am Currently Borrowing:"),b.a.createElement("p",null,b.a.createElement("b",null,"Name:")," ",a.name),b.a.createElement("p",null,b.a.createElement("b",null,"Number:")," ",a.number),b.a.createElement("p",null,b.a.createElement("b",null,"Email:")," ",a.email),b.a.createElement("p",null,b.a.createElement("b",null,"House:")," ",a.house),b.a.createElement("p",null,b.a.createElement("b",null,"Street:")," ",a.street),b.a.createElement("p",null,b.a.createElement("b",null,"City:")," ",a.city))))},G=(a(103),"https://cdn2.bulbagarden.net/upload/7/75/VSBrock_Masters.png");var J=function(){return b.a.createElement("div",null,b.a.createElement(h.a,null,b.a.createElement("div",{className:"sidebar-desktop"},b.a.createElement("div",{className:"sidebar"},b.a.createElement(h.b,{to:"/"},b.a.createElement("h1",{className:"logo mobile-only"},"GYM SHARE"),b.a.createElement("div",{className:"welcome desktop-only"},b.a.createElement("img",{src:G,alt:"Profile Picture",className:"avatar"}),"Welcome ","Brock","!")),b.a.createElement(h.b,{to:"/marketplace",className:"link nav-select",activeStyle:{fontWeight:"bold",color:"white"}},b.a.createElement("i",{className:"fas fa-store icon-spacing"}),"Marketplace"),b.a.createElement(h.b,{to:"/equipment",className:"link nav-select",activeStyle:{fontWeight:"bold",color:"white"}},b.a.createElement("i",{class:"fas fa-dumbbell icon-spacing"}),"Equipment"),b.a.createElement(h.b,{to:"/borrowingHistory",className:"link nav-select",activeStyle:{fontWeight:"bold",color:"white"}},b.a.createElement("i",{class:"fas fa-hand-holding-medical icon-spacing"}),"Borrowing History"),b.a.createElement(h.b,{to:"/lendingHistory",className:"link nav-select",activeStyle:{fontWeight:"bold",color:"white"}},b.a.createElement("i",{class:"fas fa-handshake icon-spacing"}),"Lending History"))),b.a.createElement("div",{className:"sidebar-mobile"},b.a.createElement("div",{className:"sidebar"},b.a.createElement(h.b,{to:"/",className:"footer"},b.a.createElement("img",{src:G,alt:"Profile Picture",className:"avatar"}),b.a.createElement("h5",null,"Dashboard")),b.a.createElement(h.b,{to:"/marketplace",className:"footer",activeStyle:{fontWeight:"bold",color:"white"}},b.a.createElement("i",{className:"fas fa-store fa-2x"}),b.a.createElement("h5",null,"Marketplace")),b.a.createElement(h.b,{to:"/equipment",className:"footer",activeStyle:{fontWeight:"bold",color:"white"}},b.a.createElement("i",{className:"fas fa-dumbbell fa-2x icon-mobile"}),b.a.createElement("div",{className:"caption"},b.a.createElement("h5",null,"Equipment"))),b.a.createElement(h.b,{to:"/borrowingHistory",className:"footer",activeStyle:{fontWeight:"bold",color:"white"}},b.a.createElement("i",{class:"fas fa-hand-holding-medical fa-2x"}),b.a.createElement("h5",null,"Borrowing History")),b.a.createElement(h.b,{to:"/lendingHistory",className:"footer",activeStyle:{fontWeight:"bold",color:"white"}},b.a.createElement("i",{class:"fas fa-handshake fa-2x"}),b.a.createElement("h5",null,"Lending History")))),b.a.createElement("div",{className:"main"},b.a.createElement(v.c,null,b.a.createElement(v.a,{exact:!0,path:"/"},b.a.createElement(T,null)),b.a.createElement(v.a,{exact:!0,path:"/marketplace"},b.a.createElement($,null)),b.a.createElement(v.a,{exact:!0,path:"/equipment"},b.a.createElement(F,null)),b.a.createElement(v.a,{exact:!0,path:"/borrowingHistory"},b.a.createElement(R,null)),b.a.createElement(v.a,{exact:!0,path:"/lendingHistory"},b.a.createElement(Y,null))))))};var K=new j.ApolloClient({cache:new j.InMemoryCache,link:new j.HttpLink({uri:"https://gym-share.herokuapp.com/graphql"})});p.a.render(b.a.createElement(j.ApolloProvider,{client:K},b.a.createElement(J,null)),document.getElementById("root"))},78:function(e,t,a){e.exports=a(105)},83:function(e,t,a){}},[[78,1,2]]]);
//# sourceMappingURL=main.90180e3f.chunk.js.map